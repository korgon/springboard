<div class="modal animate-fadein" modaly ng-show="vm.modalview" ng-switch="vm.modalview">

	<!-- alert modal -->
	<div class="boxwrap {{ vm.modalview }}" ng-switch-when="alert" ng-controller="ModalAlertCtrl">
		<div class="boxtop"></div>
		<div class="boxcontent">
			<div class="boxmessage">
				<span class="messageicon {{ mm.message_icon }}"></span>
				<p class="message">{{ mm.message }}</p>
			</div>
			<div class="buttons">
				<button class="button" ng-if="mm.button_confirm" ng-click="mm.resolveModal()">{{ mm.button_confirm }}</button>
				<button class="button" ng-if="mm.button_cancel" ng-click="mm.closeModal()" focus-on>{{ mm.button_cancel }}</button>
			</div>
		</div>
	</div>

	<!-- single input modal -->
	<div class="boxwrap {{ vm.modalview }}" ng-switch-when="input" ng-controller="ModalInputCtrl">
		<div class="boxtop"></div>
		<form id="modalInput" name="modalInputForm" novalidate>
			<div class="boxcontent">
				<div class="boxmessage">
					<span class="messageicon {{ mm.message_icon }}"></span>
					<p class="message">{{ mm.message }}</p>
				</div>
				<div class="inputs">
					<input type="text" ng-model="mm.input" required focus-on>
				</div>
				<div class="buttons">
					<input type="submit" class="button" value="{{ mm.button_confirm }}" ng-click="mm.resolveModal()" ng-disabled="modalInputForm.$invalid">
					<button ng-click="mm.closeModal()" class="button">{{ mm.button_cancel }}</button>
				</div>
			</div>
		</form>
	</div>

	<!-- git commit modal -->
	<div class="boxwrap {{ vm.modalview }}" ng-switch-when="commit" ng-controller="ModalInputCtrl">
		<div class="boxtop"></div>
		<form id="modalInput" name="modalInputForm" novalidate>
			<div class="boxcontent">
				<div class="boxmessage">
					<span class="messageicon {{ mm.message_icon }}"></span>
					<p class="message">{{ mm.message }}</p>
				</div>
        <div class="inputs">
          <input type="text" ng-model="mm.input" required focus-on>
        </div>
				<div class="buttons">
					<input type="submit" class="button" value="{{ mm.button_confirm }}" ng-click="mm.resolveModal()" ng-disabled="modalInputForm.$invalid">
					<button ng-click="mm.closeModal()" class="button">{{ mm.button_cancel }}</button>
				</div>
			</div>
		</form>
    <div class="git-changes">
      <div class="git-change" ng-repeat="change in mm.message_data">
        <span class="git-status {{ change.state == '??' ? 'new' : change.state }}">{{ change.state }}</span>
        <span class="git-file">{{ change.change }}</span>
      </div>
    </div>
	</div>

</div>
